<!--
 * @Description: 
 * @Author: caiwu
 * @CreateDate: 
 * @LastEditor: 
 * @LastEditTime: 2021-08-16 17:16:05
-->
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
</head>

<body>
  <div id="app">
    <a href="#aaa">aaa</a>
    <a href="#bbb">bbb</a>
    <a href="#ccc">ccc</a>
  </div>
</body>
<script>
  var linkList = document.querySelectorAll('a[href]')
    linkList.forEach(el => {
        el.addEventListener('click', function(e){
            var hr = el.getAttribute('href')
            if(hr==='#bbb'){
              // e.preventDefault();
              history.pushState(null, '', el.getAttribute('href'));
            }else{
              // history.pushState(null, '', el.getAttribute('href'));
              e.target.click()
            }
        })
    })
 window.addEventListener('hashchange',()=>{console.log(1111)});
 window.addEventListener('hashchange',()=>{console.log(2222)});
</script>

</html>